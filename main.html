<!DOCTYPE html><html lang="en"><head><meta charset="UTF-8"><title>Annotation Delay Visualization</title><script src="https://d3js.org/d3.v5.min.js"></script><style>line.data {stroke: blue; stroke-width: 2;}line.annotated {stroke: green; stroke-width: 2;}</style></head><body><svg width="800" height="600"></svg><script>const svg = d3.select("svg");const margin = {top: 20, right: 20, bottom: 30, left: 50}, width = +svg.attr("width") - margin.left - margin.right, height = +svg.attr("height") - margin.top - margin.bottom;const g = svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");const x = d3.scaleLinear().rangeRound([0, width]);const y = d3.scaleLinear().rangeRound([height, 0]);let dataPoints = [], annotatedPoints = [];function addData() {const newValue = Math.random() * height;dataPoints.push(newValue);if (dataPoints.length > width) dataPoints.shift();setTimeout(() => {annotatedPoints.push(newValue);if (annotatedPoints.length > width) annotatedPoints.shift();update();}, 2000);update();}function update() {x.domain([0, width]);y.domain([0, d3.max(dataPoints)]);const dataLine = d3.line().x((d, i) => x(i)).y(d => y(d));const annotatedLine = d3.line().x((d, i) => x(i)).y(d => y(d));g.selectAll("path.data").data([dataPoints]).join("path").attr("class", "data").attr("d", dataLine);g.selectAll("path.annotated").data([annotatedPoints]).join("path").attr("class", "annotated").attr("d", annotatedLine);}setInterval(addData, 1000);</script></body></html>
